/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
plugins {
    id "com.linkedin.python-web-app" version "0.7.7"
}

version = 1.0

// we need to define an explicit installation sequence for the dependencies,
// see issue 75 here: https://github.com/linkedin/pygradle/issues/75
project.tasks.findByName('installPythonRequirements').sorted = false

dependencies {
    python 'pypi:requests:2.9.1'
    test 'pypi:mock:1.3.0'
}

repositories {
    pyGradlePyPi()

    // as LinkedIn only provides an initial set of pypi libraries along with Ivy-Metadata,
    // we will use a local repository which is populated with libraries and metadata using
    // the pivy-importer.
    ivy {
        url "${System.getProperty("user.home")}/.m2/repository"
        layout 'pattern', {
            artifact '[organisation]/[module]/[revision]/[artifact]-[revision](-[classifier]).[ext]'
            ivy '[organisation]/[module]/[revision]/[module]-[revision].ivy'
            m2compatible = true
        }
    }
}